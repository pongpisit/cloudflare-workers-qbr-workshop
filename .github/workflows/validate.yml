name: Validate Documentation

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Check markdown files exist
        run: |
          echo "Checking documentation files..."
          test -f README.md && echo "✅ README.md"
          test -f ABOUT.md && echo "✅ ABOUT.md"
          test -f QUICK-START.md && echo "✅ QUICK-START.md"
          test -f docs/01-dashboard-setup.md && echo "✅ Module 1"
          test -f docs/02-hello-world-worker.md && echo "✅ Module 2"
          test -f docs/03-profile-page.md && echo "✅ Module 3"
          test -f docs/04-r2-storage.md && echo "✅ Module 4"
          test -f docs/05-d1-database.md && echo "✅ Module 5"
          test -f docs/06-photo-gallery.md && echo "✅ Module 6"
          test -f docs/07-workers-ai.md && echo "✅ Module 7"
          test -f docs/08-deploy-share.md && echo "✅ Module 8"
          echo "✅ All documentation files present"
      
      - name: Validate markdown syntax
        run: |
          echo "Validating markdown files..."
          for file in docs/*.md README.md ABOUT.md QUICK-START.md; do
            if [ -f "$file" ]; then
              echo "Checking $file..."
              grep -q "^#" "$file" && echo "✅ $file has headers"
            fi
          done
          echo "✅ Markdown validation complete"
